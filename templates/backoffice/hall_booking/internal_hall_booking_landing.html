<!DOCTYPE html>

<html lang="en">

<!-- BEGIN HEAD -->
{% load staticfiles %}
<head>
    <head>
        <meta charset="utf-8"/>
        <title>MCCIA | Internal Hall Booking </title>
        {% include 'backoffice/base_css.html' %}


    </head>
    <!-- END HEAD -->


    <style type="text/css">

        .has-success .control-label {
            color: #333;
        }

        .has-success .form-control {
            border: 1px solid #C2CAD8;
        }

        div.dataTables_wrapper div.dataTables_info {
            padding-top: 8px;
            white-space: nowrap;
            display: none;
        }

        div.dataTables_wrapper div.dataTables_length label {
            font-weight: normal;
            text-align: left;
            white-space: nowrap;
            display: none;
        }

        div.dataTables_filter label {
            font-weight: normal;
            white-space: nowrap;
            text-align: left;
            display: none;
        }

        .border_s {

            border: 1px solid #ddd;
            padding: 10px;
        }

        .fa-lg {
            font-size: 2.333333em;
            line-height: .75em;
            vertical-align: -15%;
        }

        div.checker span {
            display: -moz-inline-box;
            display: inline-block;
            zoom: 1;
            text-align: center;
            background-position: 0 -260px;

        }

        #processing {
            height: 100vh;
            position: fixed;
            width: 100%;
            margin: 0px auto;
            z-index: 9999;
            background-color: #FFF;
            background-image: none;
            background-attachment: scroll;
            background-position: 0% 0%;
            background-clip: border-box;
            background-origin: padding-box;
            background-repeat: repeat;
            background-size: inherit;
            opacity: 0.5;
        }

        #loading {
            width: 36%;
            height: 22px;
            position: absolute;
            top: 26%;
            left: 32%;
            margin: -28px 0px 0px -25px;
            text-align: center;
            font-size: 13px;
            font-weight: 500;
            color: #000;
        }

        #user_table_paginate {
            float: right !important;
        }

        .form-height {
            height: 65px;
        }

        .user-image img {
            max-width: 100%;
        }

        .fileinput .thumbnail > img {
            height: 178px !important;
        }

        .fileinput-preview.thumbnail {
            max-width: 278px;
        }

        .btn-azure:hover {
            background-color: #0095C8;
            border-color: #0095C8;
            color: #ffffff;
        }

        .btn-file {
            overflow: hidden;
            position: relative;
            vertical-align: middle;
        }

        .user-image .user-image-buttons {
            position: static;

        <!-- top: 20 %;
        --> <!-- left: 37 %;
        -->
        }

        .btn-file input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            background: white;
            cursor: inherit;
            display: block;
        }

        .btn-red:hover {
            background-color: #da4f4a !important;
            border-color: #da4f4a;
            color: #ffffff;
            display: none;
        }

        .btn-red {
            display: none;
        }

        .btn-sm, .btn-group-sm > .btn {
            padding: 5px 10px;
            font-size: 12px;
            line-height: 1.5;
            border-radius: 3px;
        }

        .btn {
            transition: all 0.3s ease 0s !important;
            background-image: none !important;
            box-shadow: none !important;
            outline: none !important;
            position: relative;
        }

        .fileinput .btn {
            vertical-align: middle;
        }

        .bootstrap-tagsinput {
            line-height: 35px;
            width: 980px;
        }

        .error {
            font-weight: 400;
            font-style: normal;
            font-size: 12px;
        }

        .form-wizard .steps > li.active > a.step .desc {
            color: #2F353B;
            font-weight: 700;
        }

        .portlet.light {
        <!-- padding: 0 px 0 px 4 px;
        --> <!-- background-color: #eef1f5;
        -->
        }

        .form-wizard .steps, .form-wizard .steps > li > a.step {
        <!-- background-color: #eef1f5;
        --> background-image: none;
            border: 0;
            box-shadow: none;
            filter: none;
        }

        .dropzone .dz-preview, .dropzone-previews .dz-preview {
            margin: 3px !important;
        }

        hr {
            border: 0;
            border-top: 1px solid #6B6B6B;
            border-bottom: 0;
        }

        #tab2 {
            padding-left: 25px;
            padding-right: 25px;
        }

        .map-wrapper {
            float: left;
            var table = $('#membership_details');

        var oTable

        =
        table.

        dataTable
        (
        {
        "processing"
        : true,

        "serverSide"
        : true,

        "destroy"
        : true,

        "ajax"
        :

        '/backofficeapp/get-membership-details-datatable/'
        ,
        "searching"
        : true,

        "Filter"
        : true,

        "ordering"
        : false,

        "paging"
        : true,

        "columnDefs"
        : [ {
        "targets": 0, "orderable": false
        }

        ,
        {
        "targets"
        :
        1
        ,
        "orderable"
        :
        false
        }
        ,
        {
        "targets"
        :
        2
        ,
        "orderable"
        :
        false
        }
        ,
        {
        "targets"
        :
        3
        ,
        "orderable"
        :
        false
        }
        ,
        ]
        ,
        buttons: [ {
            extend: 'print',
            className: 'btn dark btn-outline'
        }

        ,
        {
            extend: 'copy',
            className: 'btn red btn-outline'
        }
        ,
        {
            extend: 'pdf',
            className: 'btn green btn-outline'
        }
        ,
        {
            extend: 'excel',
            className: 'btn yellow btn-outline '
        }
        ,
        {
            extend: 'csv',
            className: 'btn purple btn-outline '
        }
        ,
        {
            extend: 'colvis',
            className: 'btn dark btn-outline',
            text: 'Columns'
        }
        ]
        ,

        /
        /
        setup responsive extension: http:

        /
        /
        datatables.net /extensions/ responsive

        /
        responsive: false,

        /
        /
        "ordering"
        : false, disable column ordering

        /
        /
        "paging"
        : false, disable pagination

        "order"
        : [
                [

        0
        ,
        'asc'
        ]
        ]
        ,

        "lengthMenu"
        : [

        /
        /
        change per page values here
        [

        10
        ,
        25
        ,
        50
        ,
        100
        ]
        ,
        [

        10
        ,
        25
        ,
        50
        ,
        100
        ]
        ]
        ,
        /
        /
        set the initial value

        "pageLength"
        :

        10
        ,
        }
        )
        ;
        /
        /
        handle datatable custom tools

        /
        /
        $
        (
        '#cycle_wise_consumption_table_tools > li > a.tool-action'
        )
        .

        on
        (
        'click'
        ,
        function
        (
        )
        {
        /
        /
        var
        action
        =
        $
        (
        this
        )
        .
        attr
        (
        'data-action'
        )
        ;
        /
        /
        oTable
        .
        DataTable
        (
        )
        .
        button
        (
        action
        )
        .
        trigger
        (
        )
        ;
        /
        /
        }
        )
        ;
        margin:

        0
        px

        0
        px

        0
        0
        px

        ;
        }

        #map {
            border: 1px solid #DDD;
            width: 292px;
            overflow: hidden;
            height: 223px;
            margin: 10px 0 10px 0;
            -webkit-box-shadow: #AAA 0px 0px 15px;
        }

        #my-awesome-dropzone-3 {
            border: 3px dashed black !important;
            min-height: 224px !important;
            background: #ffffff;
        }

        #my-active-dropzone {
            border: 3px dashed black !important;
            min-height: 224px !important;
            background: #ffffff;
        }

        .dropzone .dz-preview .dz-details img, .dropzone-previews .dz-preview .dz-details img {
            position: absolute;
            top: 0px;
            left: 0;
            width: 100% !important;
            height: 100% !important;
        }

        .dropzone .dz-preview, .dropzone-previews .dz-preview {
            background: rgba(255, 255, 255, 0.8);
            position: relative;
            display: inline-block;
            margin: 4px;
            vertical-align: top;
            border: 1px solid #acacac;
            padding: 6px 6px 6px 6px;
        }

        .sel2 {
            width: 100%;
        }

        .tab-active {
            background: rgb(13, 103, 230) none repeat scroll 0% 0% !important;
            color: rgb(16, 245, 182) !important;
        }

        .sel2 {
            width: 100%;
        }

        .div-border-top {
            border: 1px solid #cccccc;
            border-bottom: none;
        }

        .div-border-bottom {
            border: 1px solid #cccccc;
            border-top: none;
        }

        .div-border-left-right {
            border: 1px solid #cccccc;
            border-top: none;
            border-bottom: none;
        }

        .div-border {
            border: 1px solid #cccccc;
        }

        .div-color {
            background-color: rgb(243, 242, 242);
            border: 2px solid rgb(204, 204, 204) !important;
            border-radius: 10px !important;
            margin-right: 0.5%;
            margin-left: 0.5%;
            margin-bottom: 1%;
        }

        @media (min-width: 992px) {
            .col-lg-4 {
                width: 32.33% !important;
            }
        }

        .form-control {
            border: 1px solid #c0c0c0;
        }

        .brad-crum-1 {
            font-size: 16px;
            color: #3eb199;
        }

        .brad-crum-2 {
            font-size: 16px;
            color: #00448b;
        }

        .brad-crum-3 {
            font-size: 16px;
            color: #00448b;
            font-weight: 700;
        }

        .form-wizard .steps > li.active > a.step .number {
            background-color: #0d67e6;
            color: #fff;
        }

        .form-wizard .steps > li > a.step .number {
            /* fallback */
            background-color: #0d67e6;
            background-image: url(images/linear_bg_1.png);
            background-repeat: repeat-y;
            color: #ffffff;
            font-weight: 500;

            /* Safari 4-5, Chrome 1-9 */
            background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a));

            /* Safari 5.1, Chrome 10+ */
            background: -webkit-linear-gradient(left, #0d67e6, #11ca9a);

            /* Firefox 3.6+ */
            background: -moz-linear-gradient(left, #0d67e6, #11ca9a);

            /* IE 10 */
            background: -ms-linear-gradient(left, #0d67e6, #11ca9a);

            /* Opera 11.10+ */
            background: -o-linear-gradient(left, #0d67e6, #11ca9a);
        }

        .grey_color {
            border: 1px solid rgb(72, 72, 72);
            color: rgb(255, 255, 255);
            background: rgb(72, 72, 72) none repeat scroll 0% 0%;
            border-radius: 20px !important;
        }

        .done_btn {
            color: rgb(255, 255, 255);
            border-radius: 20px !important;
            background-color: #0d67e6;
            background-image: url(images/linear_bg_1.png);
            background-repeat: repeat-y;

            /* Safari 4-5, Chrome 1-9 */
            background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;
            background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;

            /* Safari 5.1, Chrome 10+ */
            background: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;
            border: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;

            /* Firefox 3.6+ */
            background: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;
            border: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;

            /* IE 10 */
            background: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;
            border: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;

            /* Opera 11.10+ */
            background: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;
            border: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;

        }

        .font-14 {
            font-size: 14px;
        }

        .font-12 {
            font-size: 12px;
        }

        .font-16 {
            font-size: 16px;
        }

        .font-15 {
            font-size: 15px;
        }

        .font-18 {
            font-size: 18px;
        }

        .font-green {
            color: #3eb199 !important;
        }

        .font-blue {
            color: #00448b !important;
        }

        .font-bold {
            font-weight: 700;
        }

        .font-regular {
            font-weight: 500;
        }

        @media (min-width: 992px) {
            .box {
                height: auto !important;
            }
        }

        .parent {
            position: relative;
        }

        .child {
            width: 100%;
            position: absolute;
            bottom: 0;
            border-bottom-left-radius: 15px !important;
            border-bottom-right-radius: 15px !important;
        }

        .no_child {
            border-bottom-left-radius: 15px !important;
            border-bottom-right-radius: 15px !important;
        }

        .vertical_center {
            position: relative;
            top: 50%;
            -webkit-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            transform: translateY(-50%);
        }

        .text_center {
            position: relative;
            top: 25%;
            -webkit-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            transform: translateY(-50%);
        }

        .col-lg-4 {
            width: 36.7% !important;
        }

        #show_data {
            display: none;
        }

        #show_data:hover #show_all {
            display: block;
        }

        .text-left {
            text-align: left !important;
            padding-left: 7px !important;
        }

        .sorting_asc {
            width: 20% !important;
        }

        .select2-container .select2-selection--single {
            box-sizing: border-box;
            cursor: pointer;
            display: block;
            height: 34px;
            user-select: none;
            -webkit-user-select: none;
        }



    </style>

    <!-- END HEAD -->

<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid">
<!-- BEGIN HEADER -->
<div id="processing" style="display:none;">
    <div id="loading">
        <img src="{% static 'assets/loading-bars.gif' %}" style="height : 100px;">

    </div>
</div>
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner ">
        <!-- BEGIN LOGO -->
        <div class="page-logo">
            <a href="index.html">
                <img src="{% static 'assets/MCCIA-logo.png' %}" alt="logo"
                     class="logo-default"/> </a>

            <div class="menu-toggler sidebar-toggler">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
        </div>
        <!-- END LOGO -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"
           data-target=".navbar-collapse"> </a>
        <!-- END RESPONSIVE MENU TOGGLER -->
        <!-- BEGIN PAGE TOP -->
        <div class="page-top">
            <!-- BEGIN TOP NAVIGATION MENU -->
            <div class="top-menu">
                <ul class="nav navbar-nav pull-right">
                    <li class="dropdown dropdown-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <!-- <img alt="" class="img-circle" src="{% static 'assets/layouts/layout2/img/avatar3_small.jpg" /> -->
                            <span class="username username-hide-on-mobile"> {{ request.session.login_user }} </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-default">
                            <li>
                                <a href="/edit-profile/?user_id={{request.session.login_user}}">
                                    <i class="fa fa-user" aria-hidden="true"></i> My Profile </a>
                            </li>
                            <li>
                                <a href="/log-out/">
                                    <i class="icon-key"></i> Log Out </a>
                            </li>
                        </ul>
                    </li>
                    <!-- END USER LOGIN DROPDOWN -->
                </ul>
            </div>
            <!-- END TOP NAVIGATION MENU -->
        </div>
        <!-- END PAGE TOP -->
    </div>
    <!-- END HEADER INNER -->
</div>
<!-- END HEADER -->

<!-- BEGIN HEADER & CONTENT DIVIDER -->
<div class="clearfix"></div>
<!-- END HEADER & CONTENT DIVIDER -->


<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div class="page-sidebar-wrapper">
        <div class="page-sidebar navbar-collapse collapse">
            {% include 'backoffice/membership/side-panel.html' %}
        </div>
    </div>
    <!-- END SIDEBAR -->


    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <!-- BEGIN CONTENT BODY -->
        <div class="page-content">


            <div class="row">
                <div class="col-lg-12">
                    <div class="portlet light  ">

                        <div class="page-bar">
                            <ul class="page-breadcrumb">
                                <li>
                                    <a href="/backofficeapp/hall_booking/" style="color: #3eb199;font-size: 16px;"> Hall Booking </a>
                                    <i class="fa fa-angle-right"></i>
                                </li>
                                <li>
                                    <span style="color: #00448b;font-size: 16px;"> Internal Hall Booking</span>
                                </li>
                            </ul>
                        </div>


                        <div class="row ">
                            <div class="col-lg-12">
                                <div class="col-lg-2"
                                     style="border: none !important;  margin-top: 6px;font-size: 16px;width: 215px;">
                                    <span>Select Location:</span>
                                </div>

                                <div class="col-lg-3"
                                     style="border: none !important;  font-size: 16px;">
                                    <select id="hall_location_list" class="form-control select2" onchange="get_hall()">
                                        <option style="font-size: 14px" value="show_all">Select Location</option>
                                        <option style="font-size: 14px" value="1">Tilak Road </option>
                                        <option style="font-size: 14px" value="0">MCCIA Trade Tower(5th floor)</option>
                                        <option style="font-size: 14px" value="0">Bhosari</option>
                                        <option style="font-size: 14px" value="0">Hadapsar</option>
                                    </select>
                                </div>

                                <div class="col-lg-3">
                                    <div class="" style="color: #797979;">
                                        <a style="font-size: 16px; width: 200px;"  type="button"
                                           class="btn done_btn">View Booking Status
                                        </a>
                                    </div>
                                </div>

                                <div class="col-lg-2">
                                    <div class="" style="color: #797979;">
                                        <a href="/hallbookingapp/open-hallbooking-page/" target="_blank"
                                           style="font-size: 16px; width: 200px;" type="button"
                                           class="btn done_btn">Book Hall
                                        </a>
                                    </div>
                                </div>

                            </div>
                        </div>
                                                <hr class="hre">


                        <div class="row ">
                            <div class="col-lg-12">
                                <div class="col-lg-2"
                                     style="border: none !important;  margin-top: 6px;font-size: 16px; width: 215px;">
                                    <span> Select Hall for booking : </span>
                                </div>
                                <div class="col-lg-3"
                                     style="border: none !important;  font-size: 16px;">
                                    <select id="hall_list" class="form-control select2">
                                        <option style="font-size: 14px" value="show_all">Bhosari-Amphitheater</option>
                                        <option style="font-size: 14px" value="1">Bhosari-Conference hall</option>
                                        <option style="font-size: 14px" value="0">Bhosari-Seminar hall I</option>
                                        <option style="font-size: 14px" value="0">Bhosari-Seminar hall I + II</option>
                                        <option style="font-size: 14px" value="0">Bhosari-Seminar hall III</option>
                                    </select>
                                </div>
                                 <div class="col-lg-2 ">
                                    <div class="" style="color: #797979;">
                                        <a style="font-size: 16px; width: 200px;"  type="button"
                                           class="btn done_btn">Submit
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr class="hre">

                        <!-- END PORTLET-->
                    </div>
                </div>
            </div>
            <!-- END CONTENT BODY -->
        </div>
        <!-- END CONTENT -->
    </div>  <!-- END PORTLET-->
</div>
<!-- END CONTAINER -->

<!-- BEGIN FOOTER -->
<div class="page-footer">
    <div class="page-footer-inner"> 2018 Â© Bynry Technologies

    </div>
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
    </div>
</div>
<!-- END FOOTER -->

{% include 'backoffice/base_js.html' %}
<!-- END THEME LAYOUT SCRIPTS -->

<script type="text/javascript">

    $("#hall_booking_anchor").addClass("tab-active");
    $("#hall_booking_nav").addClass("active");
    $("#hall_booking_icon").addClass("icon-active");
    $("#hall_booking_active").css("display", "block");

    $(".sel2").select2({
        width: '100%'
    })

    $(document).ready(function () {
        var table = $('#members_details_table');
        var oTable = table.dataTable({
            "processing": true,
            "serverSide": true,
            "destroy": true,
            "ajax": '/backofficeapp/get-members-details-datatable/',
            "searching": true,
            "Filter": true,
            "ordering": false,
            "paging": true,
            "columnDefs": [
                {"targets": 0, "orderable": true},
                {"targets": 1, "orderable": false},
                {"targets": 2, "orderable": false},
            ],
            buttons: [
                {extend: 'print', className: 'btn dark btn-outline'},
                {extend: 'copy', className: 'btn red btn-outline'},
                {extend: 'pdf', className: 'btn green btn-outline'},
                {extend: 'excel', className: 'btn yellow btn-outline '},
                {extend: 'csv', className: 'btn purple btn-outline '},
                {extend: 'colvis', className: 'btn dark btn-outline', text: 'Columns'}
            ],

            // setup responsive extension: http://datatables.net/extensions/responsive/
            responsive: false,

            //"ordering": false, disable column ordering
            //"paging": false, disable pagination

            "order": [
                [0, 'asc']
            ],

            "lengthMenu": [
                // change per page values here
                [10, 25, 50, 100],
                [10, 25, 50, 100]
            ],
            // set the initial value
            "pageLength": 10,
        });
        // handle datatable custom tools
        $('#members_details_table_tools > li > a.tool-action').on('click', function() {
            var action = $(this).attr('data-action');
            oTable.DataTable().button(action).trigger();
        });
    });

    function editIndustryDescriptionModal(category_code_id) {
        $("#edit_industry_description_modal").modal('show');

        <!--$.ajax({-->
        <!--type: "GET",-->
        <!--url : '/backofficeapp/show-membership-details/',-->
        <!--data : {-->
        <!--'category_code_id':category_code_id-->
        <!--},-->

        <!--success: function (response) {-->
        <!--if (response.success == "true") {-->
        <!--$('#category_code_id').val(response.membserhipDetails.category_code_id);-->
        <!--$('#edit_category_code').val(response.membserhipDetails.membership_code);-->
        <!--$('#edit_category_descriptions').val(response.membserhipDetails.membership_category);-->

        <!--}-->
        <!--},-->
        <!--error : function(response){-->
        <!--alert("_Error");-->
        <!--}-->
        <!--});-->
    }
    function change_data() {

        sort_var = $('#sortby :selected').val();

        data = '/get-data/?sort_var=' + sort_var

        $('#industry_details_table').dataTable({
            "bDestroy": true,


            "order": [
                [0, 'asc']
            ],

            "ajax": data,
            "columns": [
                {"data": "user_name", "sClass": "text-left"},
                {"data": "usre_email_id"},
                {"data": "user_contact_no"},
                {"data": "role_id"},
                {"data": "status"},
                {"data": "actions", "sClass": "text-center"},
            ],


        });
    }

    var xyz;
    function delete_user_detail(id, name) {
        xyz = id;
        nm = name
        //$('#deact_pro').text("Do you want to Deactivate "+nm+ " user profile ? ");
        //$('#pro_deact').text("User profile  "+nm+ " Deactivated successfully");
        $("#delete_user").modal('show');
    }

    function reactivate_user(id) {

        xyz = id;
        $("#reactivate_user").modal('show');
    }

    function reactivateMemberModal(id) {
        $("#active_member_id").val(id);
        $("#reactivateMemberModal").modal('show');
    }
    function reactivate_membership() {
        var active_member_id = $('#active_member_id').val();
        $.ajax({
            type: 'POST',
            url: '/backofficeapp/activate-membership/',
            data: {'active_member_id': active_member_id},
            success: function (response) {
                if (response.success == 'true') {
                    $("#reactivateMemberModal").modal('hide');
                    $("#activate_user").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },
            beforeSend: function () {
                $("#processing").css('display', 'block');
            },
            complete: function () {
                $("#processing").css('display', 'none');
            },
            error: function (response) {
                console.log(response);
                alert('error');
            },
        });
    }

    function deleteMemberModal(id) {
        $("#member_id").val(id);
        $("#deleteMemberModal").modal('show');
    }

    function delete_membership() {
        var member_id = $('#member_id').val();
        $.ajax({
            type: 'POST',
            url: '/backofficeapp/delete-membership/',
            data: {'member_id': member_id},
            success: function (response) {
                if (response.success == 'true') {
                    $("#deleteMemberModal").modal('hide');
                    $("#remove_user").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },
            beforeSend: function () {
                $("#processing").css('display', 'block');
            },
            complete: function () {
                $("#processing").css('display', 'none');
            },
            error: function (response) {
                console.log(response);
                alert('error');
            },
        });
    }



    function checkUserName(username) {
        user_name = $(username).val()
        var regex = /^[a-zA-Z0-9]+$/;
        if ($(username).val() != '') {
            $(username).parent().children('.error').css("display", "none");
            if (regex.test(user_name)) {
                //alert('regex if');
                $(username).parent().children('.error').css("display", "none");
                return true;
            }
            else {
                //alert('regex else');
                //alert($(username).parent().children('.error').html());
                $(username).parent().children('.error').css("display", "block");
                $(username).parent().children('.error').text("No spaces and special characters allowed");
                return false;
            }
            //return true;
        } else {
            $(username).parent().children('.error').css("display", "block");
            $(username).parent().children('.error').text("Please enter username");
            return false;
        }
    }


    function validateData() {
        if (checkUserName("#username") && checkContactNo("#contact_no") && checkEmail("#email") && checkRole("#user_role") && checkPassword("#password") && checkRePassword("#re-password")) {
            return true;
        }
        return false;
    }


    function deleteIndustryDetailModal(industry_code_id) {
        $("#delete_industry_details_modal").modal('show');

        $.ajax({
            type: "GET",
            url: '/backofficeapp/show-industry-details/',
            data: {
                'industry_code_id': industry_code_id
            },

            success: function (response) {
                if (response.success == "true") {
                    $('#industry_id').val(response.industryDetails.industry_code_id);
                    //$('#edit_industry_code').val(response.membserhipDetails.membership_code);
                    //$('#edit_industry_descriptions').val(response.membserhipDetails.membership_category);

                }
            },
            error: function (response) {
                alert("_Error");
            }
        });
    }

    function inactive_industry_details() {
        var industry_id = $('#industry_id').val();
        $.ajax({
            type: 'POST',
            url: '/backofficeapp/delete-industry-details/',
            data: {'industry_id': industry_id},
            success: function (response) {
                if (response.success == 'true') {
                    $("#delete_industry_details_modal").modal('hide');
                    $("#remove_user").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },
            beforeSend: function () {
                $("#processing").css('display', 'block');
            },
            complete: function () {
                $("#processing").css('display', 'none');
            },
            error: function (response) {
                console.log(response);
                alert('error');
            },
        });
    }

    function activateIndustryDetailModal(industry_code_id) {
        $("#activate_industry_details_modal").modal('show');

        $.ajax({
            type: "GET",
            url: '/backofficeapp/show-industry-details/',
            data: {
                'industry_code_id': industry_code_id
            },

            success: function (response) {
                if (response.success == "true") {
                    $('#activate_industry_id').val(response.industryDetails.industry_code_id);

                }
            },
            error: function (response) {
                alert("_Error");
            }
        });
    }

    function activate_industry_details() {
        var industry_id = $('#activate_industry_id').val();
        $.ajax({
            type: 'POST',
            url: '/backofficeapp/activate-industry-details/',
            data: {'industry_id': industry_id},
            success: function (response) {
                if (response.success == 'true') {
                    $("#activate_industry_details_modal").modal('hide');
                    $("#active_modal").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },
            beforeSend: function () {
                $("#processing").css('display', 'block');
            },
            complete: function () {
                $("#processing").css('display', 'none');
            },
            error: function (response) {
                console.log(response);
                alert('error');
            },
        });
    }


    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if (charCode > 31 && (charCode < 48 || charCode > 57 || charCode == 43 || charCode == 45 ))
            return false;
        return true;
    }

    function validateFloatKeyPresss(el, evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        var number = el.value.split('+');
        var number1 = el.value.split('-');
        if (charCode != 45 && charCode != 43 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        //just one dot
        if (number.length > 1 && charCode == 43) {
            return false;
        }
        if (number1.length > 1 && charCode == 45) {
            return false;
        }
        return true;
    }


    function validateDataEditCategory() {
        if (checkindustry_code("#edit_industry_code") & checkindustry_descriptions("#edit_industry_descriptions")) {
            return true;
        }
        return false;
    }


    function checkindustry_code(industry_code) {

        industry_code = $(edit_industry_code).val();
        var namePattern = /^\d+$/;

        if (industry_code != '' & namePattern.test(industry_code)) {

            $('#edit_industry_code_error').css("display", "none");
            return true;
        } else {
            $('#edit_industry_code_error').css("display", "block");
            $('#edit_industry_code_error').text("Please enter valid Code");
            return false;
        }
    }
    function checkindustry_descriptions(edit_industry_descriptions) {
        industry_descriptions = $(edit_industry_descriptions).val()
        var namePattern = /[A-Za-z]$/;
        if (industry_descriptions != '' & namePattern.test(industry_descriptions)) {
            $('#edit_industry_descriptions_error').css("display", "none");
            return true;
        } else {
            $('#edit_industry_descriptions_error').css("display", "block");
            $('#edit_industry_descriptions_error').text("Please enter valid Industry Details");
            return false;
        }
    }

    function editIndustryDescriptionModal(industry_code_id) {
        $("#edit_industry_description_modal").modal('show');

        $.ajax({
            type: "GET",
            url: '/backofficeapp/show-industry-details/',
            data: {
                'industry_code_id': industry_code_id
            },

            success: function (response) {
                if (response.success == "true") {
                    $('#industry_code_id').val(response.industryDetails.industry_code_id);
                    $('#edit_industry_code').val(response.industryDetails.industry_code);
                    $('#edit_industry_descriptions').val(response.industryDetails.industry_category);

                }
            },
            error: function (response) {
                alert("_Error");
            }
        });
    }

    $("#edit-countinue").click(function (event) {


        if (validateDataEditCategory()) {


            var formData = new FormData();

            formData.append("industry_code_id", $('#industry_code_id').val());
            formData.append("edit_industry_code", $('#edit_industry_code').val());
            formData.append("edit_industry_descriptions", $('#edit_industry_descriptions').val());


            $.ajax({

                type: "POST",
                url: '/backofficeapp/edit-industry-details/',
                data: formData,
                cache: false,
                processData: false,
                contentType: false,
                success: function (response) {

                    if (response.success == 'true') {
                        $("#edit_industry_description_modal").modal('hide');
                        $("#success_modal").modal('show');
                    }
                    if (response.success == "false") {
                        $("#error-modal").modal('show');
                    }
                },
                beforeSend: function () {
                    $("#processing").css('display', 'block');
                },
                complete: function () {
                    $("#processing").css('display', 'none');
                },
                error: function (response) {
                    alert("_Error");
                }
            });
        }

    });

    // Open Member Payment Detail Page
    function viewPaymentModal(member_id){
        url = '/backofficeapp/open-member-payment/';
        window.open(url, '_blank');
    }

    // Open Edit Member Form
    function editMemberModal(member_id){
        url = '/backofficeapp/show-edit-member-form/?member_id='+member_id;
        window.open(url, '_blank');
    }


</script>

</body>
</html>